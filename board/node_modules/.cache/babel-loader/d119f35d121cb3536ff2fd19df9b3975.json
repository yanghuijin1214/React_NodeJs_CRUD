{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\react\\uAC8C\\uC2DC\\uD310\\\\board\\\\src\\\\MypageForm.js\";\nimport React, { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass MypageForm extends Component {\n  constructor() {\n    super();\n\n    this.resetPassword = () => {\n      this.setState(prevState => ({\n        resetPass: !prevState.resetPass\n      }));\n    };\n\n    this.delete = () => {\n      if (window.confirm(\"정말로 탈퇴하시겠습니까?\")) {\n        axios.post(\"http://localhost:8080/member/delete\", {\n          headers,\n          _id: window.sessionStorage.getItem(\"login_id\")\n        }).then(returnData => {\n          if (returnData.data.message) {\n            window.sessionStorage.removeItem(\"login_id\");\n            window.sessionStorage.removeItem(\"login_email\");\n            window.sessionStorage.removeItem(\"login_name\");\n            alert(\"탈퇴처리 되었습니다..\");\n            window.location.href = \"/\"; //메인페이지로 redirect\n          }\n        });\n      }\n    };\n\n    this.update = () => {\n      //현재 비밀번호 일치하는지\n      const name = this.name.value;\n      const cur_pw = this.cur_pw.value;\n      const new_pw = this.new_pw.value;\n      const new_pw_Check = this.new_pw_Check.value;\n\n      if (name === \"\" || name === undefined) {\n        alert(\"바꿀 이름을 입력해주세요.\");\n        this.name.focus();\n        return;\n      } else if (cur_pw === \"\" || cur_pw === undefined) {\n        alert(\"현재 비밀번호를 입력해주세요.\");\n        this.cur_pw.focus();\n        return;\n      } //new_pw없으면 name만 수정\n\n\n      if (new_pw === \"\" || new_pw === undefined) {\n        const send_param = {\n          name: name,\n          _id: window.sessionStorage.getItem(\"login_id\"),\n          password: cur_pw\n        };\n        axios.post(\"http://localhost:8080/member/update\", send_param).then(returnData => {\n          if (returnData.data.message) {\n            alert(\"회원정보 수정 완료했습니다.\");\n            window.sessionStorage.setItem(\"login_name\", name);\n            this.name = \"\";\n            this.cur_pw = \"\";\n            this.new_pw = \"\";\n            this.new_pw_Check = \"\";\n          } else {\n            alert(\"회원정보 수정 실패! 현재 비밀번호를 확인해주세요.\");\n          }\n        });\n      } //바꿀비밀번호, 확인 일치하는지\n      else {\n          if (new_pw !== new_pw_Check) {\n            alert(\"바꿀 비밀번호를 다시 확인해주세요.\");\n            this.new_pw.focus();\n            return;\n          } //바꿀 비밀번호 체크 일치\n          else {\n              const send_param = {\n                name: name,\n                _id: window.sessionStorage.getItem(\"login_id\"),\n                new_pw: new_pw,\n                password: cur_pw\n              };\n              axios.post(\"http://localhost:8080/member/update\", send_param).then(returnData => {\n                if (returnData.data.message) {\n                  this.name = \"\";\n                  this.cur_pw = \"\";\n                  this.new_pw = \"\";\n                  this.new_pw_Check = \"\";\n                  alert(\"회원정보 수정 완료했습니다.\");\n                  window.location.href = \"/\";\n                } else {\n                  alert(\"회원정보 수정 실패! 다시 시도해주세요.\");\n                }\n              });\n            }\n        }\n    };\n\n    this.state = {\n      resetPass: true\n    };\n  }\n\n  render() {\n    const divStyle = {\n      margin: 50\n    };\n    const marginBottom = {\n      marginBottom: 5\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: divStyle,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            disabled: true,\n            value: window.sessionStorage.getItem(\"login_email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter name\",\n            defaultValue: window.sessionStorage.getItem(\"login_name\"),\n            ref: ref => this.name = ref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Enter password\",\n            ref: ref => this.cur_pw = ref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              marginTop: \"20px\"\n            },\n            variant: this.state.resetPass === true ? \"primary\" : \"success\",\n            onClick: this.resetPassword,\n            children: [\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC218\\uC815\", /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              fill: \"currentColor\",\n              className: \"bi bi-arrow-down-short\",\n              viewBox: \"0 0 16 16\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                \"fill-rule\": \"evenodd\",\n                d: \"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-muted\",\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC218\\uC815\\uD558\\uC2DC\\uB824\\uBA74 \\uB204\\uB974\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: `${this.state.resetPass === true ? \"none\" : \"block\"}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"new password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Enter New Password\",\n              ref: ref => this.new_pw = ref\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"new password check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Enter New Password Check\",\n              ref: ref => this.new_pw_Check = ref\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          block: true,\n          style: marginBottom,\n          onClick: this.update,\n          children: \"\\uD68C\\uC6D0\\uC815\\uBCF4 \\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: this.delete,\n          block: true,\n          children: \"\\uD68C\\uC6D0 \\uD0C8\\uD1F4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default MypageForm;","map":{"version":3,"sources":["C:/Users/user/Desktop/react게시판/board/src/MypageForm.js"],"names":["React","Component","Form","Button","axios","defaults","withCredentials","headers","MypageForm","constructor","resetPassword","setState","prevState","resetPass","delete","window","confirm","post","_id","sessionStorage","getItem","then","returnData","data","message","removeItem","alert","location","href","update","name","value","cur_pw","new_pw","new_pw_Check","undefined","focus","send_param","password","setItem","state","render","divStyle","margin","marginBottom","ref","marginTop","display"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\naxios.defaults.withCredentials = true;\r\nconst headers = { withCredentials: true };\r\n\r\nclass MypageForm extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      resetPass: true,\r\n    };\r\n  }\r\n\r\n  resetPassword = () => {\r\n    this.setState((prevState) => ({ resetPass: !prevState.resetPass }));\r\n  };\r\n\r\n  delete = () => {\r\n    if (window.confirm(\"정말로 탈퇴하시겠습니까?\")) {\r\n      axios\r\n        .post(\"http://localhost:8080/member/delete\", {\r\n          headers,\r\n          _id: window.sessionStorage.getItem(\"login_id\"),\r\n        })\r\n        .then((returnData) => {\r\n          if (returnData.data.message) {\r\n            window.sessionStorage.removeItem(\"login_id\");\r\n            window.sessionStorage.removeItem(\"login_email\");\r\n            window.sessionStorage.removeItem(\"login_name\");\r\n\r\n            alert(\"탈퇴처리 되었습니다..\");\r\n            window.location.href = \"/\"; //메인페이지로 redirect\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  update = () => {\r\n    //현재 비밀번호 일치하는지\r\n    const name = this.name.value;\r\n\r\n    const cur_pw = this.cur_pw.value;\r\n    const new_pw = this.new_pw.value;\r\n    const new_pw_Check = this.new_pw_Check.value;\r\n\r\n    if (name === \"\" || name === undefined) {\r\n      alert(\"바꿀 이름을 입력해주세요.\");\r\n      this.name.focus();\r\n      return;\r\n    } else if (cur_pw === \"\" || cur_pw === undefined) {\r\n      alert(\"현재 비밀번호를 입력해주세요.\");\r\n      this.cur_pw.focus();\r\n      return;\r\n    }\r\n\r\n    //new_pw없으면 name만 수정\r\n    if (new_pw === \"\" || new_pw === undefined) {\r\n      const send_param = {\r\n        name: name,\r\n        _id: window.sessionStorage.getItem(\"login_id\"),\r\n        password: cur_pw,\r\n      };\r\n      axios\r\n        .post(\"http://localhost:8080/member/update\", send_param)\r\n        .then((returnData) => {\r\n          if (returnData.data.message) {\r\n            alert(\"회원정보 수정 완료했습니다.\");\r\n            window.sessionStorage.setItem(\"login_name\", name);\r\n            this.name = \"\";\r\n            this.cur_pw = \"\";\r\n            this.new_pw = \"\";\r\n            this.new_pw_Check = \"\";\r\n          } else {\r\n            alert(\"회원정보 수정 실패! 현재 비밀번호를 확인해주세요.\");\r\n          }\r\n        });\r\n    }\r\n\r\n    //바꿀비밀번호, 확인 일치하는지\r\n    else {\r\n      if (new_pw !== new_pw_Check) {\r\n        alert(\"바꿀 비밀번호를 다시 확인해주세요.\");\r\n        this.new_pw.focus();\r\n        return;\r\n      }\r\n      //바꿀 비밀번호 체크 일치\r\n      else {\r\n        const send_param = {\r\n          name: name,\r\n          _id: window.sessionStorage.getItem(\"login_id\"),\r\n          new_pw: new_pw,\r\n          password: cur_pw,\r\n        };\r\n        axios\r\n          .post(\"http://localhost:8080/member/update\", send_param)\r\n          .then((returnData) => {\r\n            if (returnData.data.message) {\r\n              this.name = \"\";\r\n              this.cur_pw = \"\";\r\n              this.new_pw = \"\";\r\n              this.new_pw_Check = \"\";\r\n              alert(\"회원정보 수정 완료했습니다.\");\r\n              window.location.href = \"/\";\r\n            } else {\r\n              alert(\"회원정보 수정 실패! 다시 시도해주세요.\");\r\n            }\r\n          });\r\n      }\r\n    }\r\n  };\r\n  render() {\r\n    const divStyle = {\r\n      margin: 50,\r\n    };\r\n    const marginBottom = {\r\n      marginBottom: 5,\r\n    };\r\n    return (\r\n      <>\r\n        <div style={divStyle}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              disabled\r\n              value={window.sessionStorage.getItem(\"login_email\")}\r\n            />\r\n            <Form.Label>name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter name\"\r\n              defaultValue={window.sessionStorage.getItem(\"login_name\")}\r\n              ref={(ref) => (this.name = ref)}\r\n            />\r\n            <Form.Label>password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              ref={(ref) => (this.cur_pw = ref)}\r\n            />\r\n\r\n            <Button\r\n              style={{ marginTop: \"20px\" }}\r\n              variant={this.state.resetPass === true ? \"primary\" : \"success\"}\r\n              onClick={this.resetPassword}\r\n            >\r\n              비밀번호 수정\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                className=\"bi bi-arrow-down-short\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z\"\r\n                />\r\n              </svg>\r\n            </Button>\r\n            <Form.Text className=\"text-muted\">\r\n              비밀번호를 수정하시려면 누르세요.\r\n            </Form.Text>\r\n            <div\r\n              style={{\r\n                display: `${this.state.resetPass === true ? \"none\" : \"block\"}`,\r\n              }}\r\n            >\r\n              <Form.Label>new password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Enter New Password\"\r\n                ref={(ref) => (this.new_pw = ref)}\r\n              />\r\n              <Form.Label>new password check</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Enter New Password Check\"\r\n                ref={(ref) => (this.new_pw_Check = ref)}\r\n              />\r\n            </div>\r\n          </Form.Group>\r\n          <Button\r\n            variant=\"primary\"\r\n            block\r\n            style={marginBottom}\r\n            onClick={this.update}\r\n          >\r\n            회원정보 수정\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.delete} block>\r\n            회원 탈퇴\r\n          </Button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MypageForm;\r\n"]},"metadata":{},"sourceType":"module"}